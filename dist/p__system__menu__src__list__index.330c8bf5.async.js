"use strict";(self.webpackChunkcxr_mall_platform_webui=self.webpackChunkcxr_mall_platform_webui||[]).push([[165],{94622:function(e,t,n){n.d(t,{p:function(){return h}});var r=n(77117),a=n.n(r),l=n(28152),s=n.n(l),i=n(53178),o=n(42846),u=n(93236),c={search:{searchText:"查询",resetText:"重置",labelWidth:"auto",defaultCollapsed:!0},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{size:"default",showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:20,hideOnSinglePage:!1,showTotal:function(e){return"共 ".concat(e," 条")}},dateFormatter:"string",tableAlertRender:!1},d=n(62086),f=function(e){var t=e.defaultHeight,n=e.scrollY;if(!n){var r,a=0,l=null===(r=e.ref.current)||void 0===r||null===(r=r.getElementsByClassName(e.elementsByClassName||"ant-table-body"))||void 0===r?void 0:r[0];l&&(a=l.getBoundingClientRect().top),e.searchRows&&a&&(a-=56*(e.searchRows-1));var s=Number(e.total)?64:0;t||(t=s+16),n="calc(100vh - ".concat(a+t,"px)")}return function(e,t){var n,r=null===(n=e.ref.current)||void 0===n?void 0:n.getElementsByClassName("ant-table-body")[0];if(r&&(r.style.display="block",r.style.height=t,r.style.overflow=Number(e.total)?"auto scroll":"hidden"),!Number(e.total)){var a,l=null===(a=e.ref.current)||void 0===a?void 0:a.getElementsByClassName("ant-table-placeholder")[0];l?(l.style.height=t,l.style.overflow="hidden"):r.style.display="flex"}}(e,n),n},h=function(e){var t=(0,u.useState)(),n=s()(t,2),r=n[0],l=n[1],h=(0,u.useRef)(null),p="boolean"!=typeof e.collapse||e.collapse,m=(0,u.useRef)(),g=(0,o.Z)(m),v=(0,u.useState)(0),y=s()(v,2),x=y[0],w=y[1],b={ref:h,scrollY:e.scrollY,searchRows:e.searchRows,elementsByClassName:e.elementsByClassName,defaultHeight:e.defaultHeight,total:x},C=function(t){var n,r;w(null!==(n=t.length)&&void 0!==n?n:0);var a=b;null!=t&&t.length&&(a.total=null==t?void 0:t.length),p&&l(f(a)),m.current=null===(r=h.current)||void 0===r?void 0:r.getElementsByClassName(e.elementsByClassName||"ant-table-thead")[0]};return(0,u.useEffect)((function(){p&&l(f(b))}),[]),(0,u.useEffect)((function(){e.dataSource&&e.dataSource.length>0&&C(e.dataSource)}),[null==e?void 0:e.dataSource]),(0,u.useEffect)((function(){l(f(b))}),[null==g?void 0:g.height]),(0,d.jsx)("div",{ref:h,children:(0,d.jsx)(i.Z,a()(a()(a()({},c),e),{},{scroll:{x:"100%",y:e.scrollY?e.scrollY:r,scrollToFirstRowOnChange:!0},tableStyle:e.defaultStyle?{height:"calc(100vh - 300px)"}:{},onLoad:C}))})}},41463:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(77117),a=n.n(r),l=n(28152),s=n.n(l),i=n(69092),o=n(93236),u=n(13448),c=n.n(u),d=n(74815),f=n.n(d),h=n(75784),p=n(63833),m=n(77709),g=n(62086),v=function(e){var t=m.Z.useForm(),n=s()(t,1)[0];return(0,g.jsxs)(h.t,{className:"layout-search mb-16",form:n,colon:!1,labelWidth:70,span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6},labelAlign:"left",autoFocusFirstInput:!1,onFinish:function(){var t=f()(c()().mark((function t(n){var r;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(r=e.onChange)||void 0===r?void 0:r.call(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onReset:function(){var t=f()(c()().mark((function t(n){var r;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(r=e.onChange)||void 0===r?void 0:r.call(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[(0,g.jsx)(p.Z,{name:"user_name",label:"菜单名称",placeholder:"请输入菜单名称"}),(0,g.jsx)(p.Z,{name:"order_sn",label:"菜单状态",placeholder:"请输入菜单状态"})]})},y=n(94622),x=n(88233),w=n(53254),b=n(30909),C=n(22222),_=n(26633),k=n(2639),j=b.Z.Paragraph,N=function(e){var t=e.params,n=(0,o.useRef)(),r=(0,w.useNavigate)(),l=function(){var e=f()(c()().mark((function e(n){var r,l,i,o,u,d,f,h;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.current,o=n.pageSize,e.next=3,(0,k.Z)((0,x.P)(a()(a()({},t),{page_num:i,page_size:o})));case 3:if(u=e.sent,d=s()(u,2),f=d[0],h=d[1],!f){e.next=9;break}return e.abrupt("return",{success:!1});case 9:return e.abrupt("return",{success:!0,data:(null===(r=h.data)||void 0===r?void 0:r.data)||[],total:null===(l=h.data)||void 0===l?void 0:l.count});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=[{title:"菜单编号",dataIndex:"order_sn",width:220,render:function(e,t){return(0,g.jsx)(j,{className:"field-paragraph",style:{width:188},ellipsis:{rows:2,tooltip:t.order_sn},children:t.order_sn||"-"})}},{title:"菜单名称",dataIndex:"user_name",width:152,render:function(e,t){return(0,g.jsx)(j,{className:"field-paragraph",style:{width:120},ellipsis:{rows:2,tooltip:t.user_name},children:t.user_name||"-"})}},{title:"路径",dataIndex:"consignee",width:220,render:function(e,t){return(0,g.jsx)(j,{className:"field-paragraph",style:{width:188},ellipsis:{rows:2,tooltip:t.consignee},children:t.consignee||"-"})}},{title:"排序",dataIndex:"pay_num",width:120},{title:"操作",align:"right",fixed:"right",width:160,render:function(){return(0,g.jsxs)(C.Z,{size:18,children:[(0,g.jsx)(_.ZP,{type:"link",style:{padding:0},children:"编辑"}),(0,g.jsx)(_.ZP,{type:"link",style:{padding:0},children:"详情"}),(0,g.jsx)(_.ZP,{type:"link",style:{padding:0},children:"删除"})]})}}];return(0,g.jsx)(y.p,{actionRef:n,columns:i,request:l,params:t,headerTitle:(0,g.jsx)(_.ZP,{type:"primary",onClick:function(){return r("/order/form")},children:"新增"},"primary"),rowKey:"id",search:!1,defaultStyle:!0})},S=function(){var e={page_num:1,page_size:20},t=(0,o.useState)(e),n=s()(t,2),r=n[0],l=n[1];return(0,g.jsxs)(i._z,{token:{paddingInlinePageContainerContent:16,paddingBlockPageContainerContent:12},header:{ghost:!0,title:!1,breadcrumb:{items:[{title:"菜单管理"}]}},children:[(0,g.jsx)(v,{params:r,onChange:function(t){l(a()(a()({},t),e))}}),(0,g.jsx)(N,{params:r})]})}},88233:function(e,t,n){n.d(t,{P:function(){return s}});var r=n(77117),a=n.n(r),l=n(53254),s=function(e){return(0,l.request)("".concat("https://www.fastmock.site/mock/4f3ca3df8c126efba460bda14af61dc5/cxrApi","/list/page"),{method:"POST",data:a()({},e)})}}}]);