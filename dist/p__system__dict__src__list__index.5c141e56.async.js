"use strict";(self.webpackChunkcxr_mall_platform_webui=self.webpackChunkcxr_mall_platform_webui||[]).push([[326],{94622:function(e,t,r){r.d(t,{p:function(){return f}});var n=r(77117),a=r.n(n),o=r(28152),l=r.n(o),s=r(53178),i=r(42846),u=r(93236),d={search:{searchText:"查询",resetText:"重置",labelWidth:"auto",defaultCollapsed:!0},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{size:"default",showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:20,hideOnSinglePage:!1,showTotal:function(e){return"共 ".concat(e," 条")}},dateFormatter:"string",tableAlertRender:!1},p=r(62086),c=function(e){var t=e.defaultHeight,r=e.scrollY;if(!r){var n,a=0,o=null===(n=e.ref.current)||void 0===n||null===(n=n.getElementsByClassName(e.elementsByClassName||"ant-table-body"))||void 0===n?void 0:n[0];o&&(a=o.getBoundingClientRect().top),e.searchRows&&a&&(a-=56*(e.searchRows-1));var l=Number(e.total)?64:0;t||(t=l+16),r="calc(100vh - ".concat(a+t,"px)")}return function(e,t){var r,n=null===(r=e.ref.current)||void 0===r?void 0:r.getElementsByClassName("ant-table-body")[0];if(n&&(n.style.display="block",n.style.height=t,n.style.overflow=Number(e.total)?"auto scroll":"hidden"),!Number(e.total)){var a,o=null===(a=e.ref.current)||void 0===a?void 0:a.getElementsByClassName("ant-table-placeholder")[0];o?(o.style.height=t,o.style.overflow="hidden"):n.style.display="flex"}}(e,r),r},f=function(e){var t=(0,u.useState)(),r=l()(t,2),n=r[0],o=r[1],f=(0,u.useRef)(null),h="boolean"!=typeof e.collapse||e.collapse,g=(0,u.useRef)(),m=(0,i.Z)(g),v=(0,u.useState)(0),x=l()(v,2),y=x[0],P=x[1],C={ref:f,scrollY:e.scrollY,searchRows:e.searchRows,elementsByClassName:e.elementsByClassName,defaultHeight:e.defaultHeight,total:y},w=function(t){var r,n;P(null!==(r=t.length)&&void 0!==r?r:0);var a=C;null!=t&&t.length&&(a.total=null==t?void 0:t.length),h&&o(c(a)),g.current=null===(n=f.current)||void 0===n?void 0:n.getElementsByClassName(e.elementsByClassName||"ant-table-thead")[0]};return(0,u.useEffect)((function(){h&&o(c(C))}),[]),(0,u.useEffect)((function(){e.dataSource&&e.dataSource.length>0&&w(e.dataSource)}),[null==e?void 0:e.dataSource]),(0,u.useEffect)((function(){o(c(C))}),[null==m?void 0:m.height]),(0,p.jsx)("div",{ref:f,children:(0,p.jsx)(s.Z,a()(a()(a()({},d),e),{},{scroll:{x:"100%",y:e.scrollY?e.scrollY:n,scrollToFirstRowOnChange:!0},tableStyle:e.defaultStyle?{height:"calc(100vh - 300px)"}:{},onLoad:w}))})}},57490:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var n=r(77117),a=r.n(n),o=r(28152),l=r.n(o),s=r(69092),i=r(93236),u=r(13448),d=r.n(u),p=r(74815),c=r.n(p),f=r(75784),h=r(63833),g=r(93914),m=r(48385),v=r(90462),x=r(34124),y=r(62086),P=["proFieldProps","fieldProps"],C="date",w=i.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,a=(0,m.Z)(e,P),o=(0,i.useContext)(v.Z);return(0,y.jsx)(x.Z,(0,g.Z)({ref:t,valueType:C,fieldProps:(0,g.Z)({getPopupContainer:o.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:C,customLightMode:!0}},a))})),Z=["proFieldProps","fieldProps"],b="dateMonth",j=i.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,a=(0,m.Z)(e,Z),o=(0,i.useContext)(v.Z);return(0,y.jsx)(x.Z,(0,g.Z)({ref:t,valueType:b,fieldProps:(0,g.Z)({getPopupContainer:o.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:b,customLightMode:!0}},a))})),_=["fieldProps"],k="dateQuarter",F=i.forwardRef((function(e,t){var r=e.fieldProps,n=(0,m.Z)(e,_),a=(0,i.useContext)(v.Z);return(0,y.jsx)(x.Z,(0,g.Z)({ref:t,valueType:k,fieldProps:(0,g.Z)({getPopupContainer:a.getPopupContainer},r),filedConfig:{valueType:k,customLightMode:!0}},n))})),N=["proFieldProps","fieldProps"],R="dateWeek",T=i.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,a=(0,m.Z)(e,N),o=(0,i.useContext)(v.Z);return(0,y.jsx)(x.Z,(0,g.Z)({ref:t,valueType:R,fieldProps:(0,g.Z)({getPopupContainer:o.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:R,customLightMode:!0}},a))})),S=["proFieldProps","fieldProps"],Y="dateYear",M=i.forwardRef((function(e,t){var r=e.proFieldProps,n=e.fieldProps,a=(0,m.Z)(e,S),o=(0,i.useContext)(v.Z);return(0,y.jsx)(x.Z,(0,g.Z)({ref:t,valueType:Y,fieldProps:(0,g.Z)({getPopupContainer:o.getPopupContainer},n),proFieldProps:r,filedConfig:{valueType:Y,customLightMode:!0}},a))})),B=w;B.Week=T,B.Month=j,B.Quarter=F,B.Year=M,B.displayName="ProFormComponent";var z=B,E=r(77709),I=function(e){var t=E.Z.useForm(),r=l()(t,1)[0];return(0,y.jsxs)(f.t,{className:"layout-search mb-16",form:r,colon:!1,labelWidth:70,span:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6},labelAlign:"left",autoFocusFirstInput:!1,onFinish:function(){var t=c()(d()().mark((function t(r){var n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=e.onChange)||void 0===n?void 0:n.call(e,r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onReset:function(){var t=c()(d()().mark((function t(r){var n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=e.onChange)||void 0===n?void 0:n.call(e,r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[(0,y.jsx)(h.Z,{name:"user_name",label:"字典名称",placeholder:"请输入字典名称"}),(0,y.jsx)(h.Z,{name:"order_sn",label:"字典类型",placeholder:"请输入字典类型"}),(0,y.jsx)(z,{name:"start_time",label:"开始时间",placeholder:"开始时间",fieldProps:{format:"YYYY-MM-DD"}}),(0,y.jsx)(z,{name:"end_time",label:"结束时间",placeholder:"结束时间",fieldProps:{format:"YYYY-MM-DD"}})]})},L=r(94622),D=r(88233),H=r(53254),W=r(30909),A=r(22222),O=r(26633),Q=r(2639),q=W.Z.Paragraph,J=function(e){var t=e.params,r=(0,i.useRef)(),n=(0,H.useNavigate)(),o=function(){var e=c()(d()().mark((function e(r){var n,o,s,i,u,p,c,f;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.current,i=r.pageSize,e.next=3,(0,Q.Z)((0,D.P)(a()(a()({},t),{page_num:s,page_size:i})));case 3:if(u=e.sent,p=l()(u,2),c=p[0],f=p[1],!c){e.next=9;break}return e.abrupt("return",{success:!1});case 9:return e.abrupt("return",{success:!0,data:(null===(n=f.data)||void 0===n?void 0:n.data)||[],total:null===(o=f.data)||void 0===o?void 0:o.count});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=[{title:"字典编号",dataIndex:"order_sn",width:220,render:function(e,t){return(0,y.jsx)(q,{className:"field-paragraph",style:{width:188},ellipsis:{rows:2,tooltip:t.order_sn},children:t.order_sn||"-"})}},{title:"字典名称",dataIndex:"user_name",width:152,render:function(e,t){return(0,y.jsx)(q,{className:"field-paragraph",style:{width:120},ellipsis:{rows:2,tooltip:t.user_name},children:t.user_name||"-"})}},{title:"字典类型",dataIndex:"goods_name",width:220,render:function(e,t){return(0,y.jsx)(q,{className:"field-paragraph",style:{width:188},ellipsis:{rows:2,tooltip:t.goods_name},children:t.goods_name||"-"})}},{title:"备注",dataIndex:"consignee",width:220,render:function(e,t){return(0,y.jsx)(q,{className:"field-paragraph",style:{width:188},ellipsis:{rows:2,tooltip:t.consignee},children:t.consignee||"-"})}},{title:"操作",align:"right",fixed:"right",width:160,render:function(){return(0,y.jsxs)(A.Z,{size:18,children:[(0,y.jsx)(O.ZP,{type:"link",style:{padding:0},children:"编辑"}),(0,y.jsx)(O.ZP,{type:"link",style:{padding:0},children:"详情"}),(0,y.jsx)(O.ZP,{type:"link",style:{padding:0},children:"删除"})]})}}];return(0,y.jsx)(L.p,{actionRef:r,columns:s,request:o,params:t,headerTitle:(0,y.jsx)(O.ZP,{type:"primary",onClick:function(){return n("/order/form")},children:"新增"},"primary"),rowKey:"id",search:!1,defaultStyle:!0})},K=function(){var e={page_num:1,page_size:20},t=(0,i.useState)(e),r=l()(t,2),n=r[0],o=r[1];return(0,y.jsxs)(s._z,{token:{paddingInlinePageContainerContent:16,paddingBlockPageContainerContent:12},header:{ghost:!0,title:!1,breadcrumb:{items:[{title:"字典管理"}]}},children:[(0,y.jsx)(I,{params:n,onChange:function(t){o(a()(a()({},t),e))}}),(0,y.jsx)(J,{params:n})]})}},88233:function(e,t,r){r.d(t,{P:function(){return l}});var n=r(77117),a=r.n(n),o=r(53254),l=function(e){return(0,o.request)("".concat("https://www.fastmock.site/mock/4f3ca3df8c126efba460bda14af61dc5/cxrApi","/list/page"),{method:"POST",data:a()({},e)})}}}]);